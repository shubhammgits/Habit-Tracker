(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{63:(e,s,r)=>{"use strict";var a=r(7260);r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},1050:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var a=r(5155),t=r(2115),n=r(63),i=r(2619),l=r.n(i),o=r(5612);function u(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)(),r=(0,t.useMemo)(()=>s.get("next")||"/dashboard",[s]),[i,u]=(0,t.useState)(""),[d,c]=(0,t.useState)(""),[m,h]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null);async function x(s){s.preventDefault(),g(null),h(!0);try{let s=await fetch("/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:d})});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error((null==e?void 0:e.error)||"Sign in failed")}e.push(r),e.refresh()}catch(e){var a;g(null!=(a=null==e?void 0:e.message)?a:"Sign in failed")}finally{h(!1)}}return(0,a.jsx)("main",{className:"min-h-screen flex items-center justify-center p-6",children:(0,a.jsxs)(o.P.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-md glass p-7 shadow-glass",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sign in to your dashboard."})]}),(0,a.jsxs)("form",{onSubmit:x,className:"mt-6 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-sm",children:"Email"}),(0,a.jsx)("input",{value:i,onChange:e=>u(e.target.value),type:"email",autoComplete:"email",required:!0,className:"w-full rounded-lg border border-border bg-card/50 px-3 py-2 outline-none focus:ring-2 focus:ring-ring"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-sm",children:"Password"}),(0,a.jsx)("input",{value:d,onChange:e=>c(e.target.value),type:"password",autoComplete:"current-password",required:!0,className:"w-full rounded-lg border border-border bg-card/50 px-3 py-2 outline-none focus:ring-2 focus:ring-ring"})]}),p?(0,a.jsx)("div",{className:"rounded-lg border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:p}):null,(0,a.jsx)("button",{disabled:m,className:"w-full rounded-lg bg-primary text-primary-foreground px-4 py-2.5 smooth-transition hover:opacity-95 disabled:opacity-60",children:m?"Signing inâ€¦":"Sign in"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["New here?"," ",(0,a.jsx)(l(),{href:"/signup",className:"text-foreground underline underline-offset-4",children:"Create an account"})]})]})]})})}},8844:(e,s,r)=>{Promise.resolve().then(r.bind(r,1050))}},e=>{e.O(0,[619,612,441,255,358],()=>e(e.s=8844)),_N_E=e.O()}]);