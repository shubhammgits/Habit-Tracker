(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{20063:(e,s,a)=>{"use strict";var r=a(47260);a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(s,{useSearchParams:function(){return r.useSearchParams}})},59678:(e,s,a)=>{Promise.resolve().then(a.bind(a,74180))},74180:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var r=a(95155),t=a(12115),n=a(20063),i=a(52619),l=a.n(i),u=a(85947);function o(){let e=(0,n.useRouter)(),[s,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[m,h]=(0,t.useState)(null);async function p(a){a.preventDefault(),h(null),d(!0);try{let a=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:i})});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error((null==e?void 0:e.error)||"Sign up failed")}e.push("/dashboard"),e.refresh()}catch(e){var r;h(null!=(r=null==e?void 0:e.message)?r:"Sign up failed")}finally{d(!1)}}return(0,r.jsx)("main",{className:"min-h-screen flex items-center justify-center p-6",children:(0,r.jsxs)(u.P.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-md glass p-7 shadow-glass",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Create your account"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Start tracking habits securely."})]}),(0,r.jsxs)("form",{onSubmit:p,className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-sm",children:"Email"}),(0,r.jsx)("input",{value:s,onChange:e=>a(e.target.value),type:"email",autoComplete:"email",required:!0,className:"w-full rounded-lg border border-border bg-card/50 px-3 py-2 outline-none focus:ring-2 focus:ring-ring"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-sm",children:"Password"}),(0,r.jsx)("input",{value:i,onChange:e=>o(e.target.value),type:"password",autoComplete:"new-password",required:!0,minLength:8,className:"w-full rounded-lg border border-border bg-card/50 px-3 py-2 outline-none focus:ring-2 focus:ring-ring"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Minimum 8 characters."})]}),m?(0,r.jsx)("div",{className:"rounded-lg border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:m}):null,(0,r.jsx)("button",{disabled:c,className:"w-full rounded-lg bg-primary text-primary-foreground px-4 py-2.5 smooth-transition hover:opacity-95 disabled:opacity-60",children:c?"Creatingâ€¦":"Create account"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",(0,r.jsx)(l(),{href:"/signin",className:"text-foreground underline underline-offset-4",children:"Sign in"})]})]})]})})}}},e=>{e.O(0,[619,947,441,255,358],()=>e(e.s=59678)),_N_E=e.O()}]);